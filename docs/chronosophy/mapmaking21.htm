<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//RU">
<html>

<head>
<meta name="Description" content="The Methods of mapmaking with ArcView">
<meta name="URL" content="http://gumilevica.kulichki.net/chronosophy">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta content="text/html" http-equiv="Content-Type">
<title>Хронософия. Методические указания по
построению карт по истории при помощи ArcView</title>
<meta name="Microsoft Border" content="tr">
</head>

<body><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td>
<table border="1" cellpadding="5" width="100%" bordercolor="#FFFFFF">
    <tr>
      <td width="100%" bordercolor="#FFC080">
<b><center><a href="../works.html">Труды Льва Гумилёва</a>
<font color="#FFC080" size=+1>&#9830;</font> ╚<a href="../annals.html">Анналы</a>╩
<font color="#FFC080" size=+1>&#9830;</font> ╚<a href="../index.html">Введение</a>╩
<font color="#FFC080" size=+1>&#9830;</font> <a href="../maps/index.html">Исторические карты</a>
<font color="#FFC080" size=+1>&#9830;</font> <a href="../info/search.html">Поиск</a>
<font color="#FFC080" size=+1>&#9830;</font> <a href="../info/discussions.html">Дискуссия</a>
<font color="#FFC080" size=+1>&#9830;</font>&nbsp;&nbsp;<a href="../faqs.html">? / !</a>&nbsp;&nbsp;
<font color="#FFC080" size=+1>&#9830;</font>&nbsp;&nbsp;<a href="../info/feedback.html">@</a></b>
      </center></td>
  </tr>
  <tr>
    <td width="100%"><center><noindex><iframe src="http://mg.marketgid.com/mghtml/framehtml/c/f/o/football.kulichki.net.657039.html" width="480" height="80" frameborder="0" scrolling="no"></iframe>
<br><FONT SIZE=-2><A HREF=http://www.kulichki.com/advert rel="nofollow">Реклама в Интернет</A></FONT></center><br></td>
  </tr>
</table>
</noindex>
</td></tr><!--msnavigation--></table><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><!--msnavigation--><td valign="top">

<h1>Методические указания по построению карт по истории при помощи
ArcView</h1>

<h3 align="right">Александр Родионов</h3>

<h2>Введение</h2>

<p>Описанный ниже процесс создания карт не
претендует на то, чтобы считаться
окончательно выверенным, однако небольшой
опыт, полученный в течение четырех лет при
создании нескольких десятков карт, уже
позволяет сформулировать некоторые
подходы к созданию карт для нашего проекта,
имеющего ярко выраженную историческую
окраску.</p>

<p>В качестве базового программного
обеспечения для создания карт в отличие от
предыдущей <a href="mapmaking11.htm">методики</a>, в
которой применялся CorelDraw 9.0,
была выбрана настольная геоинформационная
система <noindex><a href="http://www.esri.com/software/arcview/index.html"> ArcView
3.2</a>, производства американской
фирмы ESRI. Это
удобная система, работающая на ряде
аппаратных платформ, представляя собой
фактически промышленный стандарт в этом
классе программного обеспечения. С
требованиями, предъявляемыми этой
программным комплексом к аппаратному и
программному обеспечению, можно
ознакомиться на сервере компании.</p>
<p>Научится пользоваться ею для уже
искушенного в компьютерных программах
пользователю не составляет большого труда
и занимает от нескольких недель до двух-трех
месяцев. И в этом процессе неоценимую
услугу окажут Вам как обучающая система
самой программы, так и несколько <a href="http://campus.esri.com"> учебных
пособий</a> доступных на Интернете (на
английском языке) предоставленных самой
фирмой-создателем программного
обеспечения,
правда часть из них платные.</p>
<p>Мы можем предоставить ArcView 3.0a Training, написанный Paul Braun (University
of South Carolina) - <i> Thesaurus/WhitePapers/ArcViewTutor.zip</i>
(1.95 MB).</p>
<h2>Получение программного
обеспечения</h2>
<p>Продажа и сопровождение
настольной геоинформационной системы ArcView
3.2 в странах СНГ осуществляется целым рядом
фирм, подлинным лидером среди которых
является ООО <a href="http://www.dataplus.ru"> &quot;Дата+&quot;</a> в г. Москва, Россия. Стоимость программного
комплекса у этого продавца составляет 1200
долларов США.</p>
<p>Однако в рамках нашего проекта Вы
можете использовать нашу копию этой
программы (серийный номер <b>999991999999</b>)
полученную, благодаря международной сети
доброхотов. В нашем распоряжении
имеется версии ArcView 3.2:</p>
<p><b><i><img border="0" src="images/maps20.gif" width="600" height="83">
</i></b>
</p>
<p><b><i>Рисунок 1. Логотип настольной
геоинформационной системы
ArcView 3.х</p>
</i></b>
<p>Архив ArcView 3.2 в 8 файлах по 10,2 MB
формата ARJ ver. 2.55 (всего 81.5 MB) расположен по
адресу <i> Thesaurus/av/av32.arj, Thesaurus/av/av32.a01
┘ Thesaurus/av/ av32.a07</i>. Кроме того, необходимо использовать upgrade
до версии 3.2а и для работы с Windows
XP с сервера фирмы ESRI
- <a href="http://support.esri.com/index.cfm?fa=downloads.patchesServicePacks.listPatches&PID=25">http://www.esri.com/software/arcview/av32a_patch.html</a>
и <a href="http://support.esri.com/index.cfm?fa=software.filteredGateway&PID=15">http://www.esri.com/software/arcview/avsoftware.html#av3xwindows</a>.</p>
<p>Существенных <a href="http://www.esri.com/library/whitepapers/pdfs/arcview3132.pdf"> различий</a> между
этими версиями 3.1 и 3.2 практически нет,
тем не менее, учитывая, что фирмы ESRI грешит
частыми ошибками в программах мы
рекомендуем использовать более позднюю
версию. Более раннюю версию ArcView 3.0a мы
использовать, не рекомендуем, хотя и она
имеет ряд своих положительных сторон.
Должны заметить, что ArcView 3.2 можно
инсталлировать только в поддиректории с DOS
именами, например, по умолчанию ESRI,
именно она подразумевается под псевдонимом
$AVHOME. Эта ошибка уже
известна фирме ESRI и исправлена в версии 3.2а.</p>
<h2>Обзор общедоступных топооснов (заготовки
карты)</h2>
<p>Все рассматриваемые здесь
векторные наборы данных поставляются в
обычной географической проекции (географическая
широта, долгота). В составе поставки
программы ArcView 3.х водит набор карт
покрывающих весь мир весь мир, Европу,
Америку и конечно же США, расположенных в
директории <font face="Courier New">C:\$AVHOME\ESRIDATA</font>. Мы
обращаем внимание на Мировую карту и карту
Европы, включающие в себя:</p>
<h3>Карты Мира (масштаб 1:25,000,000)</h3>
<blockquote>
  <blockquote>
    <p>Country Boundaries</p>
    <p>Administrative Unit Boundaries</p>
    <p>Cities</p>
    <p>Gazetteer Points, Including Places and Airports</p>
    <p>Demographic Attributes</p>
    <p>Lakes, Rivers and Drainage</p>
    <p>WorldSat Color Shaded Relief Image</p>
    <p>World Wildlife Fund Ecoregions.</p>
    </blockquote>
  </blockquote>
<h3>Карта Европы (масштаб 1:10,000,000)</h3>
<blockquote>
  <blockquote>
    <p>Country Boundaries</p>
    <p>Sub Country Administrative Units</p>
    <p>Cities</p>
    <p>Major Urbanized Areas</p>
    <p>Major Rivers</p>
    <p>Places</p>
    <p>Roads</p>
    <p>Railroads</p>
    <p>Urbanized Areas</p>
    <p>Water</p>
    <p>Rivers</p>
    <p>Demographic Attributes.</p>
    </blockquote>
  </blockquote>
<p>Однако подобный масштаб
непозволительно груб для множества карт.
Поэтому мы рекомендуем обратиться к трем
электронным атласам Мира &quot;Наша Земля&quot; (ArcAtlas:
Our Earth), ArcWorld и Digital Chart of the World.</p>
<h3>ArcAtlas: Our Earth (масштаб
1:3,000,000)</h3>
<p>&nbsp;<img border="0" src="images/maps21.gif" width="425" height="225"></p>
<b><i>
<p>Рисунок 2. Общий вид электронного
атласа ArcAtlas: Our Earth</p>
</i></b>
<p>Этот электронный атлас содержит
следующие <a href="http://www.esri.com/data/catalog/esri/esri_aa.html"> слои покрытия</a>:</p>
<b>
<p>Society</p>
<blockquote>
  <blockquote>
  </b>
<p>Political Structure (countries)</p>
<p>Population Density (people per sq. km.)</p>
<p>Urban Settlements (capitals and other cities)</p>
</blockquote>
</blockquote>
<b>
<p>Social Infrastructure</p>
<blockquote>
  <blockquote>
  </b>
  <p>Transport Routes (major roads and railways)</p>
  <p>Transport Network Density (km. of route per sq. km.)</p>
  <p>Pipelines (oil and gas)</p>
  <p>International Airports (name)</p>
  <p>Electric Power Plants (hydro, thermal, atomic)</p>
  <p>Extractive Industry (type of material, e.g., metals,
  non-metals, gemstones, fuels, etc.)</p>
  <p>Manufacturing Industry (type of center, e.g., diverse or
  specialized; size of center).</p>
</blockquote>
</blockquote>
<b>
<p>Resources</p>
<blockquote>
  <blockquote>
  </b>
  <p>Soils (types, bioclimatic regions, susceptibility to: acid
  degradation, contaminiation by selenium, lead)</p>
  <p>Mineral Resources (class and type of minerals, size of
  reserve)</p>
  <p>Vegetation (vegetation classes; vegetation/landscape belts)</p>
  <p>Present Landscapes (landscape classes; degree of human
  modification; relief)</p>
  <p>Land Use (types)</p>
  <p>Agriculture (agriculture classes; environmental threat of
  agricultural practices)</p>
  <p>Wildlife (ranges of more than 300 important species or
  genera)</p>
  <p>Protected Areas (national parks, sanctuaries, etc.).</p>
</blockquote>
</blockquote>
<b>
<p>The Lithosphere</p>
<blockquote>
  <blockquote>
  </b>
  <p>Geological Structure (rock classes, ages, etc.)</p>
  <p>Faults (rift, step, thrust, etc.)</p>
  <p>Earthquakes (magnitude, intensity, depth, date)</p>
  <p>Volcanoes (stage, e.g., active, potentially active,
  solfatara; elevation; name)</p>
  <p>Impact Craters (diameter, age, name of nearest town)</p>
  <p>Morphological Structure (e.g., plains, depressions,
  mountains, plateaus, etc.)</p>
  <p>Morphosculpture (e.g., sculpted by water, ice, erosion,
  wind, etc.)</p>
  <p>Quaternary Deposits (deposit types, age, etc.)</p>
  <p>Mountain Peaks (name, elevation, mountain system name).</p>
</blockquote>
</blockquote>
<b>
<p>The Hydrosphere</p>
<blockquote>
  <blockquote>
  </b>
  <p>Hydrographic Network (rivers and lakes, navigable,
  perennial, intermittent, etc.; name)</p>
  <p>Surface Runoff (rate in mm./sq. km./year)</p>
  <p>Groundwater Discharge (rate, salinity, coefficient, i.e.,
  ratio to precipitation)</p>
  <p>Reservoirs (volume, name of reservoir, name of dam)</p>
  <p>Glaciers</p>
  <p>Snow Cover (snow days per year)</p>
  <p>Permafrost (boundary).</p>
</blockquote>
</blockquote>
<b>
<p>The Atmosphere</p>
<blockquote>
  <blockquote>
  </b>
  <p>Solar Radiation (joules per sq. km. per year)</p>
  <p>Air Temperature (year, January, July; in mm./year or month
  )</p>
  <p>Frost-free Period (days per year)</p>
  <p>Precipitation (year, January, July; in mm./year or month).</p>
</blockquote>
</blockquote>
<p>Как видно из описания этот атлас
имеет ярко выраженную естественнонаучную
направленность и его слоев будет порой
недостаточно для создания карт на
историческую тематику.</p>
<h3>ArcWorld (масштаб 1:3,000,000)</h3>
<p>&nbsp;<img border="0" src="images/maps22.gif" width="227" height="161"></p>
<b><i>
<p>Рисунок 3. Образец
административно-территориального деления
в атласе ArcWorld</p>
</i></b>
<p>Этот электронный атлас содержит
следующие <a href="http://www.esri.com/industries/k-12/download/docs/ArcWorld.pdf"> слои покрытия</a>:</p>
<b>
<p>Cartographic Layers:</p>
<blockquote>
  <blockquote>
  </b>
<p>Country Boundaries (240 countries) - Polygon attributes:
country names and codes, world regions, continents, organization memberships -
Line attributes: boundary type and status</p>
<p>Country Internal Divisions (126 countries) - Line attributes:
level of division, coincidence with rivers, country</p>
<p>Major Cities (450 cities) - Point attributes: name, local
name, capital, major city, country name and code</p>
<p>Roads (150 countries; roads are NOT present for Canada or the
US) - Line attributes: type, display scale, country</p>
<p>Railroads (135 countries) - Line attributes: type, display
scale, country</p>
<p>Rivers and Water Bodies - Polygon attributes: water body type,
cartographic significance, country, continent - Line attributes: line type, rank,
coincidence, country, continent.</p>
</blockquote>
</blockquote>
<b>
<p>Index Layers:</p>
<blockquote>
  <blockquote>
  </b>
  <p>Latitude/Longitude Grids (5 x 5, 10 x 10, and 20 x
  20-degree grids) -Line attributes: latitude, longitude, land/water code</p>
  <p>Landsat Nominal Scene Index (satellite scene footprints and
  center points) - Point attributes: path, row, countries covered,
  latitude-longitude - Line attributes: path, row, countries covered,
  latitude-longitude</p>
  <p>Operational Navigation Chart (ONC) Index -Polygon attribute:
  map ID number.</p>
</blockquote>
</blockquote>
<b>
<p>Statistical Attribute Layers:</p>
<blockquote>
  <blockquote>
  </b>
  <p>Population Characteristics - (240 countries) -52 attributes:
  total population, population by age groups, dependency rates, urban and rural
  populations, growth rates, population density</p>
  <p>Health and Vital Statistics - (240 countries) - 104
  attributes: access to safe water, malnutrition, health care expenditures and
  availability, birth rate, young children per woman, use of contraception,
  death rate, life expectancy</p>
  <p>Education and Literacy (240 countries) - 75 attributes:
  educational expenditure, number of children in schools, students in science
  and engineering, pupil-teacher ratios, literacy rates, newspaper circulations</p>
  <p>Food Production and Nutrition - (240 countries) - 63
  attributes: percentage of agricultural land, forest land, food imports of
  cereals, food production per capita, calorie supply per capita, protein per
  capita</p>
  <p>Economic and Industrial Indicators - (240 countries) - 86
  attributes: gross national product, household income, exports, people per
  passenger car, people per telephone</p>
  <p>Labor Force Characteristics - (240 countries) - 52
  attributes: total labor force, percentage of labor in agriculture and industry,
  female workers.</p>
</blockquote>
<b>
<p>Natural Resources and the Environment (240 countries)</p>
<blockquote>
</b>
<p>90 attributes: gross domestic product, central government
expenditures on various activities, sanitation, immunization, wilderness area,
kilometers of roads, quantity of fertilizers used, agricultural soils, forests
and deforestation, protected areas, wetlands, known and threatened species
counts, energy production and consumption, marine catch, atmospheric emissions</p>
<p>&nbsp;</p>
</blockquote>
</blockquote>
<p>Из краткого описания слоев видно,
что данный электронный атлас содержит в
основном общественно-экономическую
информацию. Для более детального
знакомства с этими двумя пересекающимися
атласами читайте User's Guide of
ArcWorld 1:3M (2.3 Мб) - <i> Thesaurus/WhitePapers/ArcWorld.pdf</i>.</p>
<p>Ниже мы рассмотрим возможности
бесплатного получения некоторых слоев из
двух этих атласов с сервера фирмы ESRI (http://www.esri.com/data/online,
теперь только <a href="http://www.esri.com/data/resources/geographic-data.html">здесь</a>). Однако
пространственные данные даже из этих
атласов зачастую бывают неточны в масштабе
некоторых карт. В этом случае рекомендуется
использовать более детальный Цифровой
Атлас Мира (<a href="http://www.maproom.psu.edu/dcw">Digital Chart of the
World</a>).</p>
<h3>Digital Chart of the World (масштаб
1:1,000,000)</h3>
<p>Последний атлас, среди трех
рассматриваемых, самый детальный из
существующих ныне электронных атласов
Земли, и поэтому помещается сразу на 4
компакт-дисках, но можно скачивать эти
слои по отдельным <a href="http://data.geocomm.com">государства</a>
либо <a href="http://gis-lab.info/qa/vmap0.html">зонам</a>
планеты.</p>
<p>&nbsp;<img border="0" src="images/maps23.gif" width="601" height="367"></p>
<b><i>
<p>Рисунок 4. Пример атласа Digital
Chart of the World (окрестности Манилы,
Филиппины)</p>
</i></b>
<p>Ниже приведен перечень 17 слоев
этой грандиозной топоосновы, самой
подробной из поставляемых через Интернет
на бесплатной основе:</p>
<blockquote>
  <blockquote>
    <p>Political/Oceans (country boundaries)</p>
    <p>Populated Places (urbanized areas and points)</p>
    <p>Roads</p>
    <p>Railroads</p>
    <p>Aeronautical (airports)</p>
    <p>Transportation Structures</p>
    <p>Utilities (electrical, telephone, pipelines)</p>
    <p>Cultural Landmarks</p>
    <p>Ocean Features</p>
    <p>Drainage (inland water)</p>
    <p>Supplemental Drainage</p>
    <p>Hypsography (contour lines and elevation zones)</p>
    <p>Supplemental Hypsography</p>
    <p>Land Cover</p>
    <p>Physiography (land forms)</p>
    <p>Vegetation (US only)</p>
    <p>Data Quality</p>
    <p>ONC Compilation Date (of ONC)</p>
    <p>Data Volume (MB per ONC)</p>
    <p>Drainage System</p>
    <p>Hypsographic Data Availability</p>
    <p>ONC Index Map</p>
    <p>Political/Oceans</p>
    <p>Populated Places.</p>
    </blockquote>
  </blockquote>
<p>Детальное знакомство с его
описание можно получить, познакомившись с
его <a href="http://edcwww.cr.usgs.gov/glis/hyper/oldguides/dcw"> техническим руководством</a>,
а небольшой его участок в проекте ArcView
2.0, на примере окрестностей г. Манилы,
Филиппины, дает представление о его
возможностях (<i>Thesaurus/Samples/manila.exe</i>),
1.56 MB.</p>
<p>К счастью, мировое геоинформационное
сообщество пошло на встречу такими
пользователям и выставили на <a href="http://data.geocomm.com"> Сети</a>
большинство этих слоев, разрезанных
предварительно на части по странам. К
сожалению, Россия, особенно ее регионы за
Уралом, оказались практически не
представленными на этом пиршестве данных.
Данные формата ARC/INFO Export files
(.E00) содержаться в специальных UNIX
архивах.</p>
<p>Пространственные данные в ARC/INFO Export files
(.E00), архивированные в UNIX архивах следует
разархивировать. Затем следует
импортировать из полученного E00 файла
покрытие ARC/INFO. Для этого используют утилиту
import71 из набора программ ArcView 3.х. В ходе
процесса импорта получаются две
поддиректории - info и с названием исходного
E00 файла, которые затем используются в
качестве слоя покрытия. Такое покрытие
можно сохранить в более удобном формате ArcView,
в так называемых Shape
файлах (*.shp).</p>
<h2>Создание собственной базовой
топоосновы (заготовки карты)</h2>
<h3>Создание базовой топоосновы
ландшафта</h3>
<p>Для целей строительства карт по истории
Евразии нами было произведено создание
собственной топоосновы <b>Eurasia
and the North Africa </b>(10W - 130E, 65N - 10N) на основе
целого ряда общедоступных топооснов. Все
они были получены с сервера фирмы ESRI посредством ESRI
World Thematic Data (http://www.esri.com/data/online). В начале были получены два
архива с упрощенным рельефом Евразии и
Северной Африки (Elevation Zones)
с центроидами базовых карт.</p>
<p>&nbsp;<img border="0" src="images/maps24.gif" width="601" height="367"></p>
<b><i>
<p>Рисунок 5. Выбор уровня отображения в на
сервере ESRI World Thematic Data</p>
</i></b>
<h4>Создание базовой топоосновы
гидросферы и административно-территориального
деления</h4>
<p>Для загрузки описания гидросферы и
административно-территориального деления (из
ESRI World Base Map)
используется следующая последовательность
процедур:</p>
<p>1) Создание специального Excel
файла (<i>Thesaurus/Scripts/centroids.xls</i>),
в котором были сгенерированы центроиды
покрытий каждого из 104 архивов на сайте ESRI.
Размеры покрытия 10.48 (широта) * 13.99 (долгота).
Суть проблемы заключалась в том, что только
при малом масштабе карты (так называемый
уровень 7) удавалось заполучить в архиве
слой, описывающий озера - River
Polys (awriv3mp). У всех покрытий единица
измерения географический градус.</p>
<p>&nbsp;<img border="0" src="images/maps25.gif" width="605" height="329"></p>
<b><i>
<p>Рисунок 6.Изображение Европы в ESRI World Base Map</p>
</i></b>
<p>2) Последовательная загрузка этих 104
файлов со следующими слоями составного
электронного атласа:</p>
<p>30 Degree Grid (MD) - mdworld3</p>
<p>Countries (AWS) - awscntry</p>
<p>River Lines (AW) - awriv3ml</p>
<p>Administrative Boundaries (AWS) - awswrlda</p>
<p>River Polys (AW) - awriv3mp</p>
<p>Cities (AWS) - awscitie.</p>
<p>Источники:</p>
<p>MD = ArcView Maps and Data</p>
<p>AA = ArcAtlas</p>
<p>AW = ArcWorld</p>
<p>AWS = ArcWorld Supplement</p>
<p>DCW = Digital Chart of the World.</p>
<p>Следует заметить, что целый ряд сегментов
Северной Азии не содержали слои по озерам и
имели ряд других сбоев, которые в прочем не
играли существенной роли.</p>
<p>3) Разархивирование всех этих архивов по
средством специального пакетного файла в
отдельные Shape файлы в
соответствующие поддиректории. Следует
заметить, что все сегменты чуточку
перекрывают друг друга на сотые доли
градуса.</p>
<p>4) Последовательное слияние этих
сегментов в каждом из трех требуемых слоев
в ArvView 3.x. используя
команду Merge из GeoProcessing
Extensions для этого программного продукта.</p>
<p>&nbsp;<img border="0" src="images/maps26.gif" width="530" height="314"></p>
<b><i>
<p>Рисунок 7. Диалоговое окно команды Merge из
GeoProcessing Extensions</p>
</i></b>
<p>5) Удаление ненужных объектов, описывающих
поверхность Земли (9 - Not inland
water) в слое River Polys
(awriv3mp). Острова на водоемах были оставлены.</p>
<p>Полученные покрытия используются для
построения карт:</p>
<blockquote>
  <blockquote>
    <blockquote>
      <p>30-градусная сетка - <i> Thesaurus/Basemaps/grids.zip</i>
      (5 KB),</p>
      <p>Ландшафт - <i> Thesaurus/Basemaps/elevation.zip</i>
      (3.98 МB),</p>
      <p>Линейные объекты гидросферы - <i> Thesaurus/Basemaps/rivers.zip</i>
      (5.18 МB),</p>
      <p>Площадные объекты гидросферы - <i> Thesaurus/Basemaps/lakes.zip</i>
      (2.40 МB),</p>
      <p>Проект ArcView 3.х для
      нарезки карт - <i> Thesaurus/Basemaps/example.apr</i>
      (139 KB),</p>
      <p>Растровый образ ландшафта Евразии и
      Северной Африки в азимутальной
      равноплощадной проекции Ламберта (eurasia.jpg)
      и текстовый Map World
      файл для географической привязки (eurasia.jgw)
      - <i> Thesaurus/Basemaps/eurasia.zip</i>
      (77 KB),</p>
      </blockquote>
    </blockquote>
  </blockquote>
<p>Все эти архивы следует разархивировать, а
базовые файлы покрытия нужно поместить в
директорию C:, либо
изменить путь, заданный по умолчанию, в
файле example.apr. Для подобной привязки к новой
директории можно порекомендовать открыть
файл в любом подходящем текстовом
редакторе и заметить строку &quot;<font face="Courier New">c:/data/gumilevica/esridata/basemaps/</font>&quot;
на нужную директорию.</p>
<p>Покрытие ландшафта (elevation.shp)
имеет кроме описания рельефа (поле TYPE_RELIE)
еще и поле TYPE_ZONE,
отражающее ландшафтные зоны (умеренные
леса, степи, пустыни и т.п.), использование
этих описателей наряду с рельефом
местности, в ряде случаев, является
необходимым.</p>
<h3>Создание конкретной топоосновы (заготовки
карты)</h3>
<h4>Извлечения конкретной
топоосновы из базовой</h4>
<p>Если планируется использовать создавать
топооснову в масштабе 1:25,000,000 (в 1 см 250 км.) и
более на каком-либо участке с Черного до
Японского морей, то рекомендуется
использовать растровую подложку всей
Евразии и Северной Азии, созданную в
азимутальной равноплощадной проекции
Ламберта (меридиан 85 E,
параллель 40 N). Для более
детальный карт следует извлечь нужный
участок земной поверхности при помощи
специальной программы из проекта example.apr.</p>
<p>Откройте проект example.apr в настольной
геоинформационной системе ArcView
и в View &quot;Eurasia&quot;
нажмите третью слева кнопку на верхней
панели инструментов (градусная сетка на
голубом фоне), которая запускает программу
извлекающую пространственные данные для
задаваемого Вами участка Евразии и
Северной Африки. В появившемся диалоговом
окне Вам будет ввести обязательные
следующие параметры:</p>
<p>1) географическую широту самой северной
точки извлекаемого участка карты, в
географических градусах;</p>
<p>2) географическую широту самой северной
точки извлекаемого участка карты, в
географических градусах;</p>
<p>3) географическую долготу самой западной
точки извлекаемого участка карты, в
географических градусах;</p>
<p>4) географическую долготу самой восточной
точки извлекаемого участка карты, в
географических градусах;</p>
<p>5) общее имя файлов покрытия, желательно не
более 6 символов.</p>
<p>И нажать кнопку OK.
После чего система будет создавать файлы
покрытия в заданных координатах.
Полученные файлы будут помещаться в
директорию C:. Если Вы
изменяли путь, в котором помещаются базовые
файлы покрытия, следует предварительно
установить новый путь для извлекаемый
файлов в example.apr.</p>
<h4>Создание карты в новом проекте ArcView
3.х</h4>
<p>Мы настоятельно рекомендуем использовать
возможности <a href="http://www.dnr.state.mn.us/mis/gis/tools/arcview/extensions/extensions.html"> Default Extension for
ArcView 3.1</a>, который был создан <b>Minnesota
DNR</b> в конце 90-х гг. XX
в.
или <i> Thesaurus/Scripts/avdef31.zip</i>.
Его можно использовать и с ArcView
3.2. Загрузка этого расширения,
поставляемого в виде файла проекта (.apr
файл) производиться командой File/Open┘.
Это расширение позволяет производить
множество полезные и нужных операций, таких
как, например:</p>
<blockquote>
  <blockquote>
    <blockquote>
      <p>модифицировать параметры проекта (рекомендуется
      устанавливать единицу измерения
      расстояний метр, вместо фута);</p>
      <p>копировать/переименовывать/удалять
      файлы покрытия;</p>
      <p>сохранять пути к последним девяти
      сохраненным проектам;</p>
      <p>создавать дубликат документов типа View,
      Chart, Layout;</p>
      <p>добавлять масштабируемый текст;</p>
      <p>дополнительные операции с полями
      документов типа Table;</p>
      <p>дополнительные операции с объектами
      документов типа Chart;</p>
      <p>дополнительные операции с объектами
      документов типа Layout.</p>
      </blockquote>
    </blockquote>
  </blockquote>
<p>Для создания нового проекта ArcView
запустите эту программу и нажмите кнопку New,
тем самым будет создан новый документ типа View.</p>
<p>Затем следует определить
проекцию, в которой будет создаваться карта,
посредством команды View/Properties┘/Projections┘.
Именно к этой проекции будут привязываться
все создаваемые графические объекты (текстовые
надписи, масштабные линейки, указатели на
север и пр.). Здесь возможны два основных
варианта.</p>
<p>Во-первых, для крупномасштабных
карт (крупнее 1:25,000,000) можно применять
азимутальную равноплощадную проекцию
Ламберта (меридиан 85 E,
параллель 40 N), что даст
возможность загрузки геореферированный
растровый образ ландшафта Евразии и
Северной Африки в этой проекции командой View/Properties┘/Projections┘/Customs.
Для его использования следует подключить Extension
JPEG (JFIF) Image Support (команда File/Extensions┘),
которое поставляется с ArcView
3.1, а затем при помощи команды View/Add
Theme.../Feature Image Source загрузить растровый
образ eurasia.jpg.</p>
<p>Уже потом в документ View
добавляются базовые покрытия гидросферы: rivers.shp,
а при необходимости lakes.shp,
поскольку крупные площадные объекты
гидросферы уже нанесены на растровую
подложку. Зачастую в топооснову достаточно
добавить только крупнейшие реки и озера,
для чего используют покрытия rivers.shp
и lakes.shp из поддиректории <font face="Courier New">C:\$AVHOME\ESRIDATA\WORLD</font>.</p>
<p>Как показывает опыт после
нанесения на карты всех необходимых
объектов и надписей геореферированный
растровый образ ландшафта Евразии и
Северной Африки (в файл eurasia.jpg)
лучше заменить на покрытие elevation.shp
из базовой топосновы. В противном случае
получаемые при экспорте растровые образы в
формате GIF файлов будут
иметь чрезвычайно большой объем (до 200 Кб),
что затруднить использование образа этой
карты на Интернете. Это вызвано тем, что
растровый образ топоосновы сохранен в
формате JPEG, а при
экспорте обычно используют GIF
формат.</p>
<p>Во-вторых, для мелкомасштабных
карт можно применять широко
распространенную проекцию UTM
(Universal Transverse Mercator). Для его использования
первоначально нужно выбрать центральный
меридиан создаваемой карты, поскольку весь
Земной шар разбит на 60 зон по широте 6╟, а
затем задать остальные параметры этой
проекции, которые будут выбраны в опции View/Prorerties┘/Projection┘/Standard.</p>
<blockquote>
<p>Центральные меридианы зон UTM
- <b>Longitude of Origin</b>:</p>
</blockquote>
<p>Таблица 1. Описание центральных
меридианов в зонах UTM</p>
<table BORDER="1" CELLSPACING="1" CELLPADDING="6" WIDTH="100%">
  <tr>
    <td WIDTH="20%">
      <p>177╟ W <b>01 Zone</b></td>
    <td WIDTH="20%">
      <p>105╟ W <b>13 Zone</b></td>
    <td WIDTH="20%">
      <p>33╟ W <b>25 Zone</b></td>
    <td WIDTH="20%">
      <p>39╟ E <b>37 Zone</b></td>
    <td WIDTH="20%">
      <p>111╟ E <b>49 Zone</b></td>
  </tr>
  <tr>
    <td WIDTH="20%">
      <p>171╟ W <b>02 Zone</b></td>
    <td WIDTH="20%">
      <p>99╟ W <b>14 Zone</b></td>
    <td WIDTH="20%">
      <p>27╟ W <b>26 Zone</b></td>
    <td WIDTH="20%">
      <p>45╟ E <b>38 Zone</b></td>
    <td WIDTH="20%">
      <p>117╟ E <b>50 Zone</b></td>
  </tr>
  <tr>
    <td WIDTH="20%">
      <p>165╟ W <b>03 Zone</b></td>
    <td WIDTH="20%">
      <p>93╟ W <b>15 Zone</b></td>
    <td WIDTH="20%">
      <p>21╟ W <b>27 Zone</b></td>
    <td WIDTH="20%">
      <p>51╟ E <b>39 Zone</b></td>
    <td WIDTH="20%">
      <p>123╟ E <b>51 Zone</b></td>
  </tr>
  <tr>
    <td WIDTH="20%">
      <p>159╟ W <b>04 Zone</b></td>
    <td WIDTH="20%">
      <p>87╟ W <b>16 Zone</b></td>
    <td WIDTH="20%">
      <p>15╟ W <b>28 Zone</b></td>
    <td WIDTH="20%">
      <p>57╟ E <b>40 Zone</b></td>
    <td WIDTH="20%">
      <p>129╟ E <b>52 Zone</b></td>
  </tr>
  <tr>
    <td WIDTH="20%">
      <p>153╟ W <b>05 Zone</b></td>
    <td WIDTH="20%">
      <p>81╟ W <b>17 Zone</b></td>
    <td WIDTH="20%">
      <p>9╟ W <b>29 Zone</b></td>
    <td WIDTH="20%">
      <p>63╟ E <b>41 Zone</b></td>
    <td WIDTH="20%">
      <p>135╟ E <b>53 Zone</b></td>
  </tr>
  <tr>
    <td WIDTH="20%">
      <p>147╟ W <b>06 Zone</b></td>
    <td WIDTH="20%">
      <p>75╟ W <b>18 Zone</b></td>
    <td WIDTH="20%">
      <p>3╟ W <b>30 Zone</b></td>
    <td WIDTH="20%">
      <p>69╟ E <b>42 Zone</b></td>
    <td WIDTH="20%">
      <p>141╟ E <b>54 Zone</b></td>
  </tr>
  <tr>
    <td WIDTH="20%">
      <p>141╟ W <b>07 Zone</b></td>
    <td WIDTH="20%">
      <p>69╟ W <b>19 Zone</b></td>
    <td WIDTH="20%">
      <p>3╟ E <b>31 Zone</b></td>
    <td WIDTH="20%">
      <p>75╟ E <b>43 Zone</b></td>
    <td WIDTH="20%">
      <p>147╟ E <b>55 Zone</b></td>
  </tr>
  <tr>
    <td WIDTH="20%">
      <p>135╟ W <b>08 Zone</b></td>
    <td WIDTH="20%">
      <p>63╟ W <b>20 Zone</b></td>
    <td WIDTH="20%">
      <p>9╟ E <b>32 Zone</b></td>
    <td WIDTH="20%">
      <p>81╟ E <b>44 Zone</b></td>
    <td WIDTH="20%">
      <p>153╟ E <b>56 Zone</b></td>
  </tr>
  <tr>
    <td WIDTH="20%">
      <p>129╟ W <b>09 Zone</b></td>
    <td WIDTH="20%">
      <p>57╟ W <b>21 Zone</b></td>
    <td WIDTH="20%">
      <p>15╟ E <b>33 Zone</b></td>
    <td WIDTH="20%">
      <p>87╟ E <b>45 Zone</b></td>
    <td WIDTH="20%">
      <p>159╟ E <b>57 Zone</b></td>
  </tr>
  <tr>
    <td WIDTH="20%">
      <p>123╟ W <b>10 Zone</b></td>
    <td WIDTH="20%">
      <p>51╟ W <b>22 Zone</b></td>
    <td WIDTH="20%">
      <p>21╟ E <b>34 Zone</b></td>
    <td WIDTH="20%">
      <p>93╟ E <b>46 Zone</b></td>
    <td WIDTH="20%">
      <p>165╟ E <b>58 Zone</b></td>
  </tr>
  <tr>
    <td WIDTH="20%">
      <p>117╟ W <b>11 Zone</b></td>
    <td WIDTH="20%">
      <p>45╟ W <b>23 Zone</b></td>
    <td WIDTH="20%">
      <p>27╟ E <b>35 Zone</b></td>
    <td WIDTH="20%">
      <p>99╟ E <b>47 Zone</b></td>
    <td WIDTH="20%">
      <p>171╟ E <b>59 Zone</b></td>
  </tr>
  <tr>
    <td WIDTH="20%">
      <p>111╟ W <b>12 Zone</b></td>
    <td WIDTH="20%">
      <p>39╟ W <b>24 Zone</b></td>
    <td WIDTH="20%">
      <p>33╟ E <b>36 Zone</b></td>
    <td WIDTH="20%">
      <p>105╟ E <b>48 Zone</b></td>
    <td WIDTH="20%">
      <p>177╟ E <b>60 Zone</b></td>
  </tr>
</table>
<blockquote>
  <p>Начальная Широта
  - <b>Latitude of Origin</b>: 0╟ (экватор).</p>
  <p>Единица покрытия
  - <b>Unit</b>: Meter.</p>
  <b>
  <p>False Northing</b>: 0 метров на экваторе для
  Северного полушария; 10,000,000 метров на
  экваторе для Южного полушария.</p>
  <b>
  <p>False Easting</b>: 500,000 метров на центральном
  меридиане каждой зоны.</p>
  <b>
  <p>Scale Factor </b>на центральном меридиане:
  0.9996.</p>
  <b>
  <p>Spheroid:</b> World Geodetic System of
  1984 (WGS84).</p>
  </blockquote>
<p>После установки нужных
параметров для требуемой зоны проекции UTM,
целесообразно привести их всех в окошке
примечания к Properties
создаваемого документа View,
например, <b><i>Zone 49S (108E - 114E)
WGS84, 111E, North False 0, Easting False 500,000, Scale 0.9996</i></b>.</p>
<p>Мы не рекомендуем использовать
обычную проекцию Меркатора или другие
прямоугольные проекции, несмотря на их
кажущуюся самоочевидность и простоту.
Применение подобных проекций зачастую
приводит к серьезным искажениям.</p>
<p>Создайте поддиректорию, например, He2, в которую будут
помещаться все файлы этого проекта.
Скопируйте из директории C:
покрытия с описаниями ландшафта и объекта
гидросферы (he213e.shp, he213g.shp,
he213r.shp и he213l.shp) во
вновь созданную поддиректорию, удаляя при
этой операции последнюю цифру из имени файла -
команда
File/Manage Data Sources┘/Copy. Затем скопированные
покрытия ландшафта и гидросферы добавьте в
документ новый View при
помощи команды View/Add Theme.../Feature
Data Source.</p>
<p>В заключение в каждом из покрытий
загружают описание легенды слоя (команда Theme/Properties┘/Load┘)
из поддиректории, где располагаются
базовые покрытия (C:),
которые хранятся в файлах *.avl.</p>
<h4>Упрощение покрытий конкретной
карты</h4>
<p>В связи с тем, что покрытия из
базового топоосновы имеют масштаб 1:3,000,000, а
карты зачастую создаются в более крупном
масштабе (от 4,000,000 до 25,000,000) целесообразно
производить упрощение (generalize)
покрытий объектов гидросферы и ландшафта (he213e.shp,
he213r.shp и he213l.shp). Для
этой цели используют программный код
Theme.GeneralizeFeatures (файл genfeat.ave
в поддиректории C:\$AVHOME\AV_GIS30\ARCVIEW\Samples\scripts).
С его помощью можно уменьшить размер
покрытий, например, более чем в три раза, при
толерантности равной <b>1000</b>
метрам. Однако во избежание появления
зазоров (gaps) между
соседними площадными объектами (he213e.shp),
следует сократить толерантность до <b>500 </b>метров. В проекте
HE2.prj
в карте (View) ⌠02. Шри-Ланка
в период раннего средневековья■ можно
вызвать программный код GeneralizeFeatures нажав
кнопку с изображением карты с градусной
сеткой. Предварительно нужно выделить
нужное покрытие, заранее загруженное в эту
карту.</p>
<p>При необходимости можно удалить
все поля из таблицы слоя, кроме ключевого
поля TYPE, (для покрытий
гидросферы) и полей TYPE_RELIE
и TYPE_ZONE (для покрытия
ландшафта) при помощи последовательности
двух команд применяемых к текущему
покрытию: нажатие кнопки Table
на строке кнопок (быстрый переход к
документу типа Table),
команда Table/Delete Fields.</p>
<p>Упрощение покрытий дает, с одной
стороны возможность кардинально уменьшить
размеры и сложность используемых покрытий,
что важно если работа с геоинформационной
системой ведется не на высокоскоростной
графической станции, а на тривиальном
офисном компьютере. С другой стороны
применение упрощенных покрытий дает
преимущества при создании в будущем
интерактивных карт для Интернета,
использующих исходные векторные данные.</p>
<h3>Создание карт рельефа малого
масштаба</h3>
<p>Как показывает опыт, даже карты
ландшафта масштаба 1:3,000,000 бывают зачастую
недостаточно детальными для создания карт
небольших территорий, особенно если эти
территории имеют сложный рельеф местности.
Нами предлагается довольно простой
механизм создания карт с рельефом
местности, в виде обычной физической карты,
карт всхолмленного рельефа и наконец,
обычных топографических карт с изолиниями.</p>
<p>Для построения таких карт
необходимо иметь <a href="http://www.esri.com/software/arcview/extensions/spatext.html"> ArcView Spatial
Analyst</a>.
Мы применяли версию 1.1, которую можно
сгрузить с нашего сайта <i> Thesaurus/av/SpatialAnalyst1.zip</i>
(7.6 Мб).</p>
<h4>Источники данных с высотами
местности</h4>
<p>В качестве источников рекомендую:</p>
<p>1) Global Land One-km Base Elevation (<a href="http://www.ngdc.noaa.gov/mgg/topo/globeget.html">GLOBE</a>)
Project,
один из относительно новых проектов, имеющий данные,
покрывающие весь мира, а не одни лишь США.</p>
<p>Для импорта пространственных
данных из проекта GLOBE-30 рекомендуется
использовать текстовые файлы с данными
высот, а затем создавать заголовок для
последующего импорта. Вызвано это сбоями в
работе сервера, генерирующего эти данные</p>
<p>Для импорта пространственных
данных из проекта DTED╝ Level
0, используются бинарные файлы, которые
импортируются в ArcView 3.х.</p>
<p>Рекомендации по этому вопросу,
как в прочем и по другим, связанным с
применением растровых данных DTED, можно
найти в статье А.В. Федорчука (Геологический
институт РАН) <a href="http://web.archive.org/web/20020826221642/geo.tv-sign.ru/virtugeo/articles/my_articles/geol_map.htm"> ⌠Геологическая картография и
Интернет■</a>.
В качестве примера можно рассмотреть WinZip,
как одну из наиболее распространенных
программ архивации. Распаковка проходит
обычным образом, однако надо учесть одно
обстоятельство. В конфигурации WinZip'а по
умолчанию выставлена опция простановки CR/LF
для tar-архивов (Tar File smart CR/LF coversion). Эта опция
должна быть сохранена при распаковке
файлов *.hdr, но обязательно снята при
распаковке файлов *.dem. При распаковке DTED из
tar-архива опция Tar File smart CR/LF coversion также
должна быть снята.</p>
<p>2) <a href="http://geoengine.nga.mil/geospatial/SW_TOOLS/NIMAMUSE/webinter/rast_roam.html"> Digital Terrain Elevation Data</a>
(DTED╝) Level 0 - 30 Arc
Second Terrain Data.</p>
<p>Дискретность показа высот в проект
GLOBE и в DTED level 0 (теперь
это подмножество первого) одинакова - 30
географических секунд, которые подходят
для показа высот на масштабе 1:1,000,000. Более
детальной информации по рельефу,
покрывающей весь мир в открытом доступе до
2003 г. не существовало.</p>
<p>3) Shuttle radar topographic mission (SRTM)<b> </b>- Радарная
топографическая съемка большей части
территории земного шара, за исключением
самых северных (&gt;60), самых южных широт (&gt;54),
а также океанов, произведенная за 11 дней в
феврале 2000г с помощью специальной радарной
системы.</p>
<p>С 2003 г. появился
проект <a href="ftp://e0srp01u.ecs.nasa.gov/srtm/version2"> SRTM</a> с еще более детальным рельефом
Земли (3
географических секунды или 90 м), но покрытие
предоставляемое имеет досадные пробелы,
которые нужно восполнять именно GLOBE.</p>
<p class="text">Дополнительно с данными в виде
отдельных слоев распространяются также
данные по площадным объектам гидросети (SRTM
Water Body Data), представленные в формате данных
3-D Shapefile (шейп-формат с информацией о третьей
- высотной координате).</p>
<p class="text">Этот набор данных является
побочным продуктом, полученным в процесс
редактирования данных. В слое объектов
гидросети представлены объекты прошедшие
при редактировании критерий минимальной
площади, океаны, озера, водотоки. Высота над
уровнем моря озер постоянна, а у океанов
равна 0. Высота над уровнем моря рек
монотонно понижается, чтобы сохранить
правильный сток. Редактирование данных
производилось на базе матриц разрешения 30 м.
Система координат данных также WGS 84.
Горизонтальная точность - 20м (90%),
вертикальная - 16м (90%). Выделенные объекты
имеют следующую информацию в атрибутивной
таблице:</p>
<ul>
  <li class="text">Океаны - BA040
  <li class="text">Озера - BH080
  <li class="text">Реки - BH140</li>
</ul>
<p>Поскольку проект SRTM является
наиболее современным, то можно
воспользоваться более совершенным генератором данных, которых
можно заказать для пользования. К примеру, <a href="http://srtm.csi.cgiar.org/SELECTION/inputCoord.asp">
здесь</a> можно выбрать любой участок Земли,
затем выбрать не только по одному квадрату (географический
градус на градус). Но при этом на этом сайте
можно посмотреть, что же конкретно
располагается на этом квадратном градусе,
что порой бывает очень полезно при выборе.</p>
<p>Подробности применения этих файлом можно
прочесть в материалах <a href="http://gis-lab.info/qa/srtm.html">дружественного
интернет-ресурса GIS-lab</a>.</p>
<h4>Создания Grid
файлов</h4>
<p>Опишем порядок создания
заголовка для текстовых файлов (&quot;Dos
text&quot;) с данными высот, т. е. из проекта
GLOBE-30 (хотя, при необходимости, можно
использовать и более компактные Unix
binar, но с ними больше трудностей при
конвертировании в покрытия ArcView 3.*).
Переименовываем .dat файл в .asc, затем
открываем его в подходящем текстовом
редакторе и вставляем в его начало
заголовок, которых заполняем согласно
полей прилагаемого .hdr:</p>
<p>1) Заголовок с расширением .asc
должен иметь следующие строки:</p>
<p>ncols (количество столбцов,
целое)</p>
<p>nrows (количество рядов, целое)</p>
<p>xllcorner (долгота юго-восточного
угла блока, в десятичных градусах)</p>
<p>yllcorner (широта юго-восточного
угла блока, в десятичных градусах)</p>
<p>cellsize (размер ячейки, в
десятичных градусах)</p>
<p>NODATA_value (код для отсутствующих
данных, отрицательное целое)</p>
<p>&nbsp;</p>
<p>2) Данные из заголовка берутся из
файла .HDR, из которого извлекаются следующие
поля</p>
<p>ncols [number_of_columns]</p>
<p>nrows [number_of_rows]</p>
<p>xllcorner [left_map_x]</p>
<p>yllcorner [lower_map_y]</p>
<p>cellsize [grid_size]</p>
<p>NODATA_value [elev_m_missing_flag]</p>
<p>&nbsp;</p>
<p>Модифицированный подобным
образом текстовый файл с высотами
импортируется в GRID слой как ASCII Raster.
Такую возможность предоставляет
расширение Spatial Analyst 1.х
для ArcView 3.x (команда File/Import Data
Source).</p>
<p>Полученный же из проекта Digital
Terrain Elevation Data (DTED╝) Level 0 бинарный файл
импортируется скриптом Spatial.DTEDShift (C:\$AVHOME\AV_GIS30\ARCVIEW\Samples\scripts\dtedshft.ave). Правда следует открывать
файлы с расширением .dt0, а не ошибочно
предлагаемые скриптом ESRI файлы c
расширением .dt1.</p>
<p>Полученный GRID слой затем
сохраняется как файл покрытия (команда Themes/Convert
to Shapefile) с единицей покрытия -
географическим градусом. Полученное таким
образом покрытие добавляется в нужную
карту (View) с
установленной проекций, после чего из него
преобразуйте покрытие в GRID слой в
установленной проекции, в этом случае
единицы покрытия будут метры,
воспользовавшись командой Theme/Convert
to Grid. При этом можно установить <a href="http://www.ngdc.noaa.gov/seg/topo/report/s6/s6A.html"> размер
ячейки</a> на 465 метров (для 60 градуса широты),
поскольку примерно такую ширину имеет 30
географических секунд.</p>
<h4>Создание карт рельефа масштаба
меньшем 1:1,000,000</h4>
<p>В том случае, если создается
карта в более мелком масштабе, например,
1:500,000, то полученный после первоначального
импорта Grid слой преобразуется при помощи
скрипта <a href="http://gis.esri.com/arcscripts/details.cfm?CFGRIDKEY=-1642936612"> Raster to Vector Conversion</a>
в точечное покрытие, для получения
множества точек, каждая из которых
соответствует одному из прямоугольников GRID
слоя. Затем это точечное покрытие
добавляется в нужную карту (View)
с уже заданной проекцией.</p>
<p>Наконец при помощи команды Surface/Interpolate
(расширение Spatial Analyst)
производим интерполяцию точечного
покрытия для получения данным для нужного
Вам масштаба. Для этого подбирают параметр CellSize,
например 150 или 250 метров, но можно подобрать
и более мелкие ячейки, только просчитаться
на компьютере все это будет очень долго, а
сам создаваемых слой будет иметь большой
объем на жестком диске. Однако получаемый
после интерполяции GRID слой имеет приличный
(сглаженный) вид без сколько-нибудь
заметной &quot;прямоугольности&quot; в
требуемом масштабе.</p>
<h4>Окраска GRID слоя и создание
всхолмленного рельефа</h4>
<p>Полученный одним из описанных
выше способов GRID слой можно использовать?
предварительно окрасив согласно высотам,
применив при помощи команды Theme/Properties┘
описание легенды relief-d.avl
(для подложки темных оттенков) или relief-l.avl
(для подложки светлых оттенков) для окраски
GRID слоя (<i>Thesaurus/Scripts/relief.zip</i>,
2 Кб).</p>
<p>Если требуется отчетливо
показать морфологию рельефа (горные хребты
и долины), то целесообразно использовать
особый GRID слой, преобразованный командой Surface/Compute
Hillshade (расширение Spatial
Analyst) из обычного в Hillshade
слой, который содержит растровое псевдо-трехмерное
описание. Процесс это творческий и
рекомендуется подбирать наилучшие
параметры Azimuth (угол с
которого светит Солнце по отношению к
северу, он зависит от основного направления
горных хребтов и должен быть им
перпендикулярным) - от 45 до 315 и Altitude
(угол высоты Солнца над горизонтом) - от 25 до
75 градусов.</p>
<p>В том случаем, если черно-белая
заливка не устраивает, можно добрать
собственную, при помощи команды Theme/Properties┘
Рекомендуется определять не менее 13
классов в легенде по опции &quot;Equal
Area&quot; с какой либо из предлагаемых
цветовых палитр. Познакомьтесь с примером
Северо-восточного Кавказа с рельефом и
гидросферой для РФ в масштабе 1:4,000,000 при Azimuth
- 45, Altitude - 55. (<i>Thesaurus/Samples/nec.zip</i>,
12.2 Мб).</p>
<h2>Создание точечных объектов</h2>
<p>Основными задачами по созданию
точечных объектов будут:</p>
<blockquote>
  <blockquote>
    <p>подбор географических
    указателей, содержащих максимальное
    количество объектов;</p>
    <p>поиск географических
    координат точечных объектов использую
    набор обширных географических
    указателей;</p>
    <p>преобразование полученных
    реквизитов объектов в формат
    геоинформационной системы ArcView
    3.x. и</p>
    <p>добавление точечных объектов и
    создание подписей к ним.</p>
  </blockquote>
</blockquote>
<h3>Подбор географических
указателей</h3>
<p>Хотя в настоящее время на Сети
имеется довольно большое количество
географических указателей, их
использование затруднено целым рядом
факторов. Во-первых, практически все они
созданы на английском языке. Во-вторых, в
большинстве своем они отражают современные
месторасположение и названия
географических объектов, в-третьих, из-за
слабой пропускной способности Сети в
большинстве мест стран СНГ чрезвычайно
сложно эффективно
использовать географические указатели с
интерактивными картами, а использование
без таких карт в зачастую существенно
снижает скорость и точность поиска.</p>
<p>Самым обширным географическим
указателем по исторической тематике
является <a href="http://www.getty.edu/research/tools/vocabulary/tgn/"> Getty Thesaurus of Geographic
Names</a>,
содержащий сведения о более 900 тысяч
географических объектов. Поиск в нем
осуществляется как по основному названию
объекта, так и по дополнительным
наименованиям. Возможности поиска по
шаблону и неявного поиска, когда точное
название объекта неизвестно, затруднено,
карт для ссылок в нем также нет. (Код
источника: <b>Getty Thesaurus</b>).</p>
<p>Самым полным географическим указателем в
мире является <a href="http://164.214.2.59/gns/html/index.html">GEOnet
Names Server</a>,
поддерживаемый одним из американских
военных учреждений. Важное преимущество
упомянутого сервера в том, что он
предоставляет возможность сгружать с Сети
данные по целому подмножеству
географических объектов в формате
табличного файла Microsoft Excel.
Так же Вы можете установить фильтр по
стране, типу географического объекта (населенный
пункт, объект гидросферы и пр.), участку
земной поверхности, а также использовать
шаблоны поиска. В огромной базе данных
этого сервера имеются описания 3.5 миллионов
географических объектов, каждому из
которых соответствуют несколько написаний
наименования, в том числе исторические.
Существенный недостаток справочника
отсутствие карты для ссылки. (Код источника:
<b>GEOnet Names</b>).</p>
<p>Следующий географический
указатель называется <a href="http://middleware.alexandria.ucsb.edu/client/gaz/adl/index.jsp"> Alexandria
Digital Library Gazetteer Server</a>,
создан на основе предыдущего с добавление
нескольких сотен тысяч исторических
объектов, но с картой для ссылки. Поисковая
система позволяет подобрать названия
наиболее подходящие по написанию, но
помогает это лишь в редких случаях. (Код
источника: <b>ADL Gazetteer</b>).</p>
<p>Одним из самых удобных на Сети
географическим указателем является <a href="http://www.expedia.com/pub/agent.dll?qscr=mmfn"> Microsoft
Expedia</a>,
представляющий собой интернет-версию
всемирно-известного интерактивного атласа.
Имеет интуитивную поисковую систему и
наилучших механизма показа линейных и
площадных объектов на карте. Если Вы
располагаете надежным скоростным доступом
к Интернету, то этот справочник будет
лучшим выбором. (Код источника: <b>MS
Expedia</b>).</p>
<p>&nbsp;<img border="0" src="images/maps27.gif" width="373" height="212"></p>
<b><i>
<p>Рисунок 8. Выбор населенного
пункта в интерактивном атласа Microsoft
Expedia</p>
</i></b>
<p>Некоторый интерес также представляет <a href="http://www.calle.com/world/index.html"> Worldwide
Directory</a> of Cities and Towns, созданный Carl Rosenberg,
который будучи обычным алфавитным
справочником по странам без поисковой
системы обладает рядом преимуществ: картой
рельефа для ссылок (масштаб 1:3,000,000),
созданной на основе растровых данных <b>GTOPO5</b>
и гидросферой по данным ArcWorld, данными по
высоте населенного пункта над уровнем моря
и текущими метеоусловиями. (Код источника: <b>WDOCT</b>).</p>
<p>Однако многие бумажные карты
содержат точечные объекты (населенные
пункты, места сражений, точечные объекты
ландшафта и пр.), которые малоизвестны и
зачастую имеют узкое историческое значение,
поэтому найти их даже в самом подробном
географическом указателе весьма
затруднительно. В этом случае наибольшую
пользу могут принести интерактивные Атласы,
поставляемые на CD:</p>
<p>Source: <b>Rand McNally New Millenium World Atlas Deluxe</p>
</b>
<p>&nbsp;<img border="0" src="images/maps28.jpg" width="180" height="240"></p>
<b><i>
<p>Рисунок 9. Программный продукт
электронный атлас Rand McNally New
Millenium World Atlas Deluxe</p>
</i></b>
<p><a href="http://www.randmcnally.com/store/product.ehtml?browsetype=dept&amp;dept=B&amp;cat1=1&amp;cat2=&amp;sku=0528520547">Rand McNally</a> New Millenium World Atlas Deluxe (1 CD)&nbsp;
(Код источника:
<b>Rand McNally</b>).</p>
<p>&nbsp;<img border="0" src="images/maps28.gif" width="154" height="186"></p>
<b><i>
<p>Рисунок 10. Программный продукт
электронный атлас Microsoft Encarta
Interactive World Atlas 2000</p>
</i></b>
<p><a href="http://www.microsoft.com/encarta/atlas/atlas.htm">Microsoft Encarta</a> Interactive World Atlas 2000 (помещаемый на 2 CD) -&nbsp;
(Код источника:
<b>Encarta Atlas</b>).</p>
<p>Порой трудно установить
современное название или написание того
или иного пункта по наименованию,
бытовавшему в прошлом. В таких случаях
необходимо прибегнуть к обычному поиску по
историческому названию на обычных
поисковых машинах Интернета. Именно таким
образом было найдено современное название
древнегреческого города Камарина на южном
побережье Сицилии - Santa Croce Camerina.</p>
<h3>Подготовка географических
координат точечных объектов</h3>
<p>В качестве хранилища сведений по
точечным объектам рекомендуется
использовать табличный файл Microsoft
Excel (<i>Thesaurus/Scripts/he2.xls</i>),
32 Кб, содержащего несколько полей:</p>
<p>&nbsp;Таблица 2. Описание рекомендуемых
полей в хранилище точечных объектов</p>
<table BORDER="1" CELLSPACING="1" CELLPADDING="6" WIDTH="544">
  <tr>
    <td WIDTH="23%">
      <p>Наименование поля</td>
    <td WIDTH="77%">
      <p>Назначение поля</td>
  </tr>
  <tr>
    <td WIDTH="23%">
      <p>Lon</td>
    <td WIDTH="77%">
      <p>Географическая долгота (в градусах,
      для Западного полушария в отрицательных)
      точечного объекта</td>
  </tr>
  <tr>
    <td WIDTH="23%">
      <p>Lat</td>
    <td WIDTH="77%">
      <p>Географическая широта (в градусах, для
      Южного полушария в отрицательных)
      точечного объекта</td>
  </tr>
  <tr>
    <td WIDTH="23%">
      <p>Name</td>
    <td WIDTH="77%">
      <p>Название найденного точечного объекта
      на языке географического указателя (если
      соответствие найденного объекта с
      искомым условно добавляют
      вопросительный знак ?)</td>
  </tr>
  <tr>
    <td WIDTH="23%">
      <p>Item</td>
    <td WIDTH="77%">
      <p>Название искомого точечного объекта
      на языке создаваемой карты</td>
  </tr>
  <tr>
    <td WIDTH="23%">
      <p>Type_site</td>
    <td WIDTH="77%">
      <p>Тип точечного объекта, например, 1 -
      обычный населенный пункт, 2 - центр
      провинции, 3 - столица государства</td>
  </tr>
  <tr>
    <td WIDTH="23%">
      <p>Source</td>
    <td WIDTH="77%">
      <p>Источник, на основе которого были
      определены географические координаты
      объекта, например, <b>Rand
      McNally</b>.</td>
  </tr>
</table>
<p>&nbsp;</p>
<p>В том случае если объект найти в
справочнике не удается, то его
географические координаты нужно
определить самостоятельно по его
расположению на бумажной карте, а в
качестве кода источника указать <b>Expert</b>.</p>
<h3>Преобразование реквизитов
объектов в формат покрытий ArcView
3.x</h3>
<p>Для преобразования полученных
реквизитов географических объектов
следует применить базу данных MS
Access 97 - Names.mdb (<i>Thesaurus/Scripts/names.zip</i>,
150 Кб). Открыв таблицу &quot;tblNames&quot; в этой базе данных, нужно выделит, а
затем удалить все записи. После этого
перейдя в MS Excel,
скопируйте из таблицы набор данных с
реквизитами (шесть полей, описанные выше) и
вернувшись в MS Access при
помощи команды Edit/Add from Clipboard
вставьте его в таблицу. Затем, открыв форму &quot;frmMDBtoMIF&quot;
выбрать в качестве источника данных
таблицу &quot;tblNames&quot;,
снимите метки импортирования на поля &quot;Name&quot;
и &quot;Source&quot;, которые
будет лишними в покрытии ArcView
и затем определите имя экспортируемого MapInfo
файла После этого можно нажать кнопку &quot;Экспорт&quot;.</p>
<p>&nbsp;<img border="0" src="images/maps29.gif" width="555" height="459"></p>
<b><i>
<p>Рисунок 11. Диалоговое окно базы
данных Names</p>
</i></b>
<p>Полученный экспортный MapInfo
файл легко импортируется в формат покрытия ArcView
при помощи утилиты &quot;MIF to
Shape&quot;, поставляемых с ArcView,
либо множества подобных скриптов, например,
transltn.avx (<i>Thesaurus/Scripts/transltn.zip</i>).
В качестве имени файла рекомендуется
использовать аббревиатуру карты с
добавление цифры 8, например, he2138.shp.</p>
<h3>Добавление покрытия с точечными
объектами</h3>
<p>Добавить покрытие следует
командой View/Add Theme.../Feature Data
Source множества, а затем определить
легенду (команда Theme/Properties┘).
Если показывается только один вид точечных
объектов (пунсонов), то рекомендуется
задать их форму в виде круглых пунсонов,
размером в 6 пунктов, а цвет пунсонов
установить черный. При создании легенды при
помощи опции Legend type: Unique Value,
содержащей нескольких типов пунсонов, эту
легенду можно при необходимости сохранить
в той же поддиректории под тем же
наименованием файла описания легенды (*.avl),
что и название файла покрытия с точечными
объектами, например he2138.avl.</p>
<p>В том случае, если набор цветов
или пунсонов не достаточен для создания
легко читаемой легенды, то можно применить
дополнительные наборы пунсонов и цветов: C:\$AVHOME\AV_GIS30\ARCVIEW\symbols
(например,
arrows.avp, carto.avp, в
raster.avp есть 75 символ, напоминающий
перекрещенные мечи) или (<a href="http://web.archive.org/web/19991013112042/http://ifas.ufl.edu/~bts/gis/symbols2.html">artist.avp</a>). Их загрузка
осуществляется при помощи команды Windows/Show
Symbol Window (Crtl+P), а затем нажав правую
кнопку палитры нажимайте кнопку &quot;Load┘&quot;.</p>
<p>Порой, например, когда
используется простая легенда с одним типом
точечных объектов либо пояснения очевидны
сами по себе, можно вообще убрать легенду из
таблицы содержания карты (TOC),
выполнив команду Theme/Hide|Show
Legend.</p>
<h2>Создание покрытий с линейными и
площадными объектами</h2>
<p>Границы государств можно
формировать в виде линейных или площадных
объектов. Опыт подсказывает, что легче
всего организовать отрисовку таких
объектов в режиме линейной графики, который
устанавливается выбором инструмента (кнопки)
прерывистой линии - Draw Line
на линейке инструментов. Созданные
подобным образом объекты после корректуры
копируются в специальный файл покрытий,
например, he2138, а
исходные графические объекты удаляются.
Затем в таблице атрибутов покрытия будут
присваиваться необходимые коды во вновь
созданное поле TYPE. Такое
поле может понадобиться при организации
легенды к данному покрытию.</p>
<p>Площадные объекты
отрисовываются подобным образом, но с
использованием инструмента Draw
Polygon. Зачастую такие объекты следует
нарезать на отдельные части или
редактировать посредством отрезания ⌠лишних■
частей. Для этого рекомендуется применять в
режиме правки покрытия (команды Theme/Start
editing) специальные инструменты из того же
набора: split line, split polygon и append
new polygon.</p>
<p>Для глобальных операций с
покрытиями, содержащими площадные и
отчасти линейные объекты, рекомендуется
применять расширение XTools Extension. Оно
позволяет легко копировать графические
объекты в площадные или линейные,
помещаемые в файл покрытия; сливать
различные объекты в один или наоборот
разделять объект, содержащий сегменты (multiparts)
на образующие его отдельные объекты.</p>
<p>Имена файлов покрытий выбираются
исходя из следующего правила: сначала идут
площадные объекты, например, файл he2147.shp,
затем линейные - he2148.shp.
Завершают список файлов покрытий файлы с
точечными объектами - he2149.shp.</p>
<h2>Создание подписей (меток) к
объектам</h2>
<p>На следующем этапе создаются
подписи к пунсонам. Для это предварительно
устанавливается необходимый шрифт, размер
и его начертание (команда Windows/Show
Symbol Window и третья справа кнопка &quot;Текст&quot;),
а затем цвет (команда Windows/Show
Symbol Window и второе справа кнопка &quot;Цвет&quot;,
в которой выбирается режим Color:
Text).</p>
<p>&nbsp;Таблица 3. Описание рекомендуемых
стилей подписей (текстовых меток)&nbsp;</p>
<table BORDER="1" CELLSPACING="1" CELLPADDING="6" WIDTH="631">
  <tr>
    <td WIDTH="35%">
      <p>Стиль</td>
    <td WIDTH="16%">
      <p>Шрифт</td>
    <td WIDTH="16%">
      <p>Начертание</td>
    <td WIDTH="19%">
      <p>Размер (кегель)</td>
    <td WIDTH="14%">
      <p>Цвет</td>
  </tr>
  <tr>
    <td WIDTH="35%">
      <p>Название городов</td>
    <td WIDTH="16%">
      <p>Arial Narrow</td>
    <td WIDTH="16%">
      <p>Normal</td>
    <td WIDTH="19%">
      <p>10 - 12</td>
    <td WIDTH="14%">
      <p>Черный</td>
  </tr>
  <tr>
    <td WIDTH="35%">
      <p>Название государств</td>
    <td WIDTH="16%">
      <p>Arial</td>
    <td WIDTH="16%">
      <p>Normal</td>
    <td WIDTH="19%">
      <p>14 - 20</td>
    <td WIDTH="14%">
      <p>Пурпурный</td>
  </tr>
  <tr>
    <td WIDTH="35%">
      <p>Название этносов (субэтносов)</td>
    <td WIDTH="16%">
      <p>Arial</td>
    <td WIDTH="16%">
      <p>Italic</td>
    <td WIDTH="19%">
      <p>14 - 20</td>
    <td WIDTH="14%">
      <p>Пурпурный</td>
  </tr>
  <tr>
    <td WIDTH="35%">
      <p>Название объектов гидросферы на суше (реки,
      озера)</td>
    <td WIDTH="16%">
      <p>Times</td>
    <td WIDTH="16%">
      <p>Italic</td>
    <td WIDTH="19%">
      <p>12 - 14</td>
    <td WIDTH="14%">
      <p>Темно-синий</td>
  </tr>
  <tr>
    <td WIDTH="35%">
      <p>Название объектов на море (острова)</td>
    <td WIDTH="16%">
      <p>Arial</td>
    <td WIDTH="16%">
      <p>Normal</td>
    <td WIDTH="19%">
      <p>14 - 20</td>
    <td WIDTH="14%">
      <p>Темно-синий</td>
  </tr>
  <tr>
    <td WIDTH="35%">
      <p>Название объектов литосферы (горные
      хребты)</td>
    <td WIDTH="16%">
      <p>Arial</td>
    <td WIDTH="16%">
      <p>Italic</td>
    <td WIDTH="19%">
      <p>12 - 18</td>
    <td WIDTH="14%">
      <p>Черный</td>
  </tr>
  <tr>
    <td WIDTH="35%">
      <p>Наименование других объектов биосферы
      (пустыни)</td>
    <td WIDTH="16%">
      <p>Arial</td>
    <td WIDTH="16%">
      <p>Normal</td>
    <td WIDTH="19%">
      <p>12 - 18</td>
    <td WIDTH="14%">
      <p>Черный</td>
  </tr>
</table>
<p>Затем для текущего покрытия
вызывается диалоговое окно создания
текстовых меток - команда Theme/Auto-label┘
(Ctrl-L), в котором задается поле, из
которого берутся подписи (по умолчанию
первое текстовое поле), разрешается
наложение меток (опция Allow
Overleaping labels) и применение предпочтений по
размещению текстовых меток, задаваемых
командой Theme/Properties┘/Text Label
(опция Use Theme's Text Label Placement
Property). Устанавливать эти параметры
нужно именно в такой последовательности.
При необходимости созданные текстовые
метки можно легко убрать - команда Theme/Remove
Labels (Ctrl-R) или переместить некоторые
метки на более удобное место.</p>
<p>Рекомендуется прикреплять
текстовые метки (attach) к
конкретному точечному покрытию, с тем, что
бы при необходимости все метки было можно
сделать невидимыми.</p>
<p>После создания текстовых
названий к точечным объектам следует
задать подписи к площадным и линейным
объектам. В начале определяется стиль
подписи, как описано выше. Затем используя
кнопку (Text) из строки с
инструментами вставляются все текстовые
метки конкретного стиля, например, названия
государств. В последних версиях программы ArcView
имеются несколько вариантов подписей, но мы
рекомендуем использовать самый обычный
масштабируемый тип подписи. Эти некоторые
из текстовых меток можно повернуть на карте
под нужным углом, воспользовавшись
параметром Rotation Angle.
Затем операцию повторяют для остальных
типов подписей.</p>
<p>В версиях ArcView
начиная с 3.1 на инструменте (кнопке) Text
появилась возможность создания подписей,
располагаемых по задаваемой пользователю
кривой (splined text). Это
особенно полезно при надписывании
протяженных извилистых линейных объектов,
например, петляющих рек или горных цепей и т.
п.</p>
<h3>Сохранение и загрузка подписей (меток)
в виде точечного покрытия</h3>
<p>Для удобства последующего
применения любое множество текстовых меток
(обычных или масштабируемых) можно
сохранить (импортировать) в точечное
покрытие в текущей проекции (единица
измерения покрытия - метр), а затем
применить (импортировать) на карте с теми же
параметрами проекции, что были у карты, для
которой эти текстовые метки первоначально
создавались.</p>
<p>Для этих обменных операций
существует специальное расширение Label
Theme Manager ver. 3a (http://gis.esri.com/arcscripts/details.cfm?CFGRIDKEY=1721311435),
после загрузки которого появляется новое
меню Label Themes, которое
содержит возможности экспорта текстовых
меток в точечное покрытие (команда Label
Themes/Export Labels to Point Theme) и импорта из
точечного покрытия в текстовые метки (команда
Label Themes/Import Point Theme to Labels).
Благодаря этому расширению можно сохранить
как сам текст меток, так и его атрибуты (шрифт,
размер, начертание, цвет, межстрочное
расстояние, угол наклона и стиль
выравнивания текста).</p>
<p>Отметить, что возможностью
корректного экспорта/импорта подписей,
располагаемых по задаваемой пользователю
кривой, рассматриваемая версия (3.0а)
расширения Label Theme Manager
не обладает. Эта разновидность надписей
будет преобразовываться к обычному тексту,
повернутому под определенным градусом.
Однако такие надписи можно сохранять при
помощи расширения AVALabel
(Advanced Labeling Tool), который в демо-версии
позволяет записать до 25 надписей
одновременно.</p>
<p>Рекомендуется после экспорта,
например, в файл he2139.shp, первоначально
введенные подписи (метки) удалить, а затем
при импорте присоединить их к слою, в
котором они хранятся. Это позволит более
удобно для последующего применения
подписей.</p>
<h3>Оформление легенд площадных
объектов</h3>
<p>Для создания зрелищных карт
следует прибегнуть к векторным шаблонам
заливок, хранимых в поддиректории C:\$AVHOME\AV_GIS30\ARCVIEW\symbols
в файле carto.avp и hatch.avp.
Растровые заливки использовать не
рекомендуется поскольку они при экспорте
не позволяют демонстрировать ландшафтную
топооснову, лежащую под ними, заменяя ее на
неинформативный белый цвет . Образцы
векторных заливок из первого файла
приведены на рисунке ниже.</p>
<p>&nbsp;<img border="0" src="images/maps29.jpg" width="582" height="280"></p>
<b><i>
<p>Рисунок 12.Образцы векторной
заливки из файла carto.avp</p>
</i></b>
<p>&nbsp;Штриховки из второго файла
сходны с первым за исключение одного
принципиального отличия - в hatch.avp
можно установить цвета подложки (background),
основного цвета (foreground)
и даже абриса (outline),
причем цвет абриса можно выключить вовсе,
тем самым не показывать контур площадного
объекта, что бывает в ряде случаев очень
важно. В векторных заливках из файла carto.avp
обычно можно установить только цвет абриса,
тем самым исключается возможность
отказаться от демонстрации контура
площадного объекта.</p>
<p>Конечно, при организации легенд
предварительно нужно снабдить вновь
созданные таблицы файла покрытий полем TYPE,
который будет характеризовать тип
площадного объекта, например, территорию
суверенного государства или вассального
владения.</p>
<p>При оформлении векторных заливок
следует учесть, что наиболее сложными для
показа на дисплее компьютера являются
банальные ⌠точечные■ заливки, причем чем
больше точек, т. е. объектов, тем дольше
будет отрисовываться карты при выводе на
экран. Поэтому проще всего обратиться к
штриховым заливкам, которые с одной стороны,
не затушевывают подложку - ландшафт
топоосновы, а с другой, будет быстро
выводиться при демонстрации карты.</p>
<p>Линейные объекты,
соответствующие границам территориальные
образований рекомендуется окрашивать в
красный или пурпурный цвет, а саму линию
выбирать сплошного, пунктирного или
штрихового начертания. Толщину линии можно
установить 0.5 - 2 пункта.</p>
<h2>Формирование выводных карт (Layout)</h2>
<p>После создания всех деталей
карты можно сформировать выводную карту
при помощи команды View/Layout┘
Рекомендуется прибегать в альбомной
ориентации карты (Landscape),
близкой по своим размером с размером
дисплея монитора. Однако в ряде случаев
допустимо традиционная книжная ориентация
(Portrait), которая, например,
применялась в карте острова Цейлон на карте
⌠02. Шри-Ланка в период раннего
средневековья■ в проекте he2.arj.</p>
<p>Перейдя в документ Layout
проекта - выводную карту следует выбрать
один из форматов бумаги, например, А4, саму
карту растянуть на все пространство
выбранного формата. Затем командой Layout/Properties┘
необходимо установить минимальный шаг (Grid
spacing) по вертикали и горизонтали при
размещении объектов на выводной карте - 0.01 in
(дюйм). В случае необходимости ⌠лишнюю■
часть карты можно вынести за рамки выводной
карты, тем самым, скрыв ее при выводе в
экспортируемый файл или на принтер.</p>
<p>В объекте масштабирования (Scale
Bar) необходимо установить единицу
измерения ⌠километр■, а сам объект
переместить на участок карты, который не
несет функциональной нагрузки, например, на
горный массив или океаническое
пространство. Рамку с легендой к карте (legend
frame) рекомендуется поместить на
предварительно подготовленный белый фон
закрывающий ненужный фрагмент карты.</p>
<p>Наконец, объект ⌠указатель на
север■ (North Arrow) нужно
установить на тип, помещенный вторым справа
в нижнем ряду в наборе объектов по
умолчанию, который предлагается для выбора
в North Arrow Manager.</p>
<p>В случае необходимости можно
дополнить имеющуюся легенду, собственными
элементами, описывающими, например, виды
начертания текста, применяемого для
демонстрации расселения этносов, племенных
союзов (вассальных владений) или положение
государств.</p>
<h3>Экспорт карт в растровом и
векторном форматах</h3>
<p>Для вывода карт используется два
основных экспортных формата: векторный Windows
Metafile, имеющий расширение графического
файла WMF и растровый Windows
Bitmap, имеющий расширение графического
файла BMP. Растровый
формат JPEG, применяемый
для хранения фотографий даже при 80%
качестве способен внести некоторые
искажения в небольшие детали на карте,
например, надписи, и в цветопередачу, но
размер полученного файла будет в два раза
больше, чем в GIF формате
обычно используемом для публикации карт в
Интернете.</p>
<p>Векторный формат Windows
Metafile обычно используется при работе с
текстовыми файлами и его легко вставить в
документ MS Word или MS
Power Point. При этом нужно не забывать о
необходимости инсталляции на компьютере,
на котором в последующем будет
демонстрироваться векторное изображение
карты, по меньшей мере, шрифта esri_3.ttf
(ESRI Geometric Symbols),имеющего размер 54,2
килобайта.</p>
<p>Для экспорта (File/Export┘)
растровых карт в формате Windows
Bitmap из выводной карты на листе А4 нужно
установить опцию ⌠Разрешение■ (Options┘/Resolutions)
в диапозоне от 72 до 92 DPI (точек
на дюйм), которая позволит создать
изображение размерами 900*600 пикселей после
отсечения лишних участков рисунка, а потом
установить имя файла.</p>
<p>В случае вывода карты в размерах,
необходимых для создания иконки карты, от 105
пунктов в высоту и до 105 пунктов в ширину (такие
размеры применяются в электронной
энциклопедии <a href="http://www.eb.com"> Britannica</a>),
предварительно отключаются все слои,
которые содержат небольшие или
существенные объекты, например, покрытия
рек, надписи и т. п. Важнейшие слои, такие как
границы государств, маршруты военных
походов, города, оставляют видимыми.</p>
<p>После этого в выводной карты
временно выносят за границы листа
следующие объекты: объект ⌠указатель на
север■ и масштабирование. Эти объекты
излишни при демонстрации иконки карты и
могут быть возвращены на место после ее
формирования.</p>
<p>Для экспорта (File/Export┘)
растровых карт в формате Windows
Bitmap из выводной карты на листе А4 для
создания иконки карты нужно установить
опцию ⌠Разрешение■
(Options┘/Resolutions) равную 10
или 12 DPI (точек на дюйм), а
потом установить имя файла, как правило,
содержащее в конце суффикс ⌠-0■.</p>
<p>Установление опции ⌠Разрешение■
при экспорте векторных данных так же
способно оказать существенное влияние на
качество выводимого изображения. Поэтому
необходимо экспериментальным путем
подобрать нужное значение разрешение,
например, 256 DPI или выше
обеспечит высокое качество
экспортируемого файла.</p>
<h3>Подготовка карты в растровом
формате к публикации в Интернете</h3>
<p>Этот этап является
заключительным в многоэтапном процессе
подготовки. Обычно из растрового формата BMP
вырезают в стандартном программном
средстве MS Office - MS Photo Editor
требуемую часть экспортированного
изображения карты и вставляют как новый
рисунок, который потом сохраняют как файл в
формате GIF. Аналогичным
образом поступают при нарезке легенд и
иконок, описывающих карту. В последнем
случае перед сохранением изображение
приводят к размерам, не превышающим 105
пунктов (команда Image/Resize┘).</p>
<p>Файлы с легендами к карте
рекомендуется называть однотипно с самой
картой с добавлением суффикса ⌠-1■, ⌠-2■ и т.
д.</p>
<p>После подготовки растровых
изображений карту рекомендуется оформлять
согласно сложившейся традиции на сайте Gumilevica.
Пример такой карты можно увидеть на
странице в Интернете (</noindex><a href="../maps/he202.html">книжная ориентация</a> изображения карты) или
(<a href="../maps/args01.html">альбомная ориентация</a>).</p>
<h2>Полезные ссылки</h2>
<h3>Методическая и информационная поддержка</h3>
<p><a href="http://gis-lab.info/">
                 <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" width="88" height="31" id="gis" align="">
                    <param name="_cx" value="1863">
                    <param name="_cy" value="656">
                    <param name="FlashVars" value>
                    <param name="Movie" value="../images/gis-lab-button.swf">
                    <param name="Src" value="../images/gis-lab-button.swf">
                    <param name="WMode" value="Window">
                    <param name="Play" value="0">
                    <param name="Loop" value="0">
                    <param name="Quality" value="High">
                    <param name="SAlign" value>
                    <param name="Menu" value="0">
                    <param name="Base" value>
                    <param name="AllowScriptAccess" value>
                    <param name="Scale" value="ShowAll">
                    <param name="DeviceFont" value="0">
                    <param name="EmbedMovie" value="0">
                    <param name="BGColor" value="000000">
                    <param name="SWRemote" value>
                    <param name="MovieData" value>
                    <param name="SeamlessTabbing" value="1">
                    <param name="Profile" value="0">
                    <param name="ProfileAddress" value>
                    <param name="ProfilePort" value="0"><embed src="../images/gis-lab-button.swf" loop="false" menu="false" quality="high" bgcolor="#000000" width="88" height="31" align type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer"> 
					</object></a>&nbsp; - сайт для
профессионалов и любителей в области <b>Геоинформационных
систем (ГИС) </b>и <b>Дистанционного
зондирования Земли</b> <b>(ДЗЗ)</b>, который
оказывает методическую помощь в развитии
исторической картографии.</p>
<h3><noindex>Архив данных, утилит и проектов-образцов</h3>
<p><i>Thesaurus</i></p>
<b>
<p>Примечание:</b> материалы, ранее
размещенные в <i> Thesaurus</i>
можно получить от Создателей сайта по
специальному запросу, в том случае, если это
будет сочтено необходимым.</p>

<h3>Полезные утилиты и расширения</h3>
<h4>Сборное</h4>
<p><a href="http://arcscripts.esri.com/details.asp?dbid=944607809">Split lines or polygons</a></p>
<p><a href="http://arcscripts.esri.com/details.asp?dbid=941245028">Reproject grids</a></p>
<p><a href="http://arcscripts.esri.com/details.asp?dbid=2094373141">X10-DoMatic Extension Builder</a></p>
<p><a href="http://arcscripts.esri.com/details.cfm?CFGRIDKEY=1188358284">Named Extents</a></p>
<p><a href="http://arcscripts.esri.com/details.cfm?CFGRIDKEY=-1310184430">Gen2shp Version 4</a></p>
<p><a href="ftp://download1.geocomm.com/sd2/IMAGEGEOREF.ZIP">ImageGeoref</a></p>
<p><a href="http://www.odf.state.or.us/stateforests/sfgis">XTools Extension</a></p>
<p><a href="http://arcscripts.esri.com/details.cfm?CFGRIDKEY=132639531">Image to Map World File Creator
ver. 2</a></p>
<p><a href="http://arcscripts.esri.com/details.cfm?CFGRIDKEY=1721311435">Label Theme Manager</a> (3a) <b>[обязательное]</p>
</b>
<p><a href="http://www.spatial-online.com/Spatial/product.asp?pf_id=33">Symbolizer</a></p>
<p>transltn.avx&nbsp;</p>
<p><a href="http://arcscripts.esri.com/details.asp?dbid=10576">AVALabel 3.2</a> - Advanced Labeling Tool - демо-версия
создающая по 9 подписей или надписей и
изощренные легенды для слоев</p>
<h3>от Kenneth R. McVay</h3>
<p><a href="http://arcscripts.esri.com/details.cfm?CFGRIDKEY=-1642936612">Raster to Vector Conversion</a></p>
<h3>от Mark Cederholm's site &quot;Stuff for
ArcView Users&quot;</h3>
<p><a href="http://www.pierssen.com/arcview/arcview.htm">http://www.pierssen.com/arcview/arcview.htm</a></p>
<p><a href="http://www.pierssen.com/arcview/upload/view/georef3.zip">Image Georeferencing
Tool, Version 3</a></p>
<b>
<p>от <a href="http://www.ian-ko.com"> Ianko Tchoukanski EditTools 3.2</a> </b>-
Демоверсия для работы с не более чем 100
объектами в покрытии, но 35 глобальных
функций бесплатны.</p>
<b>
<p>от <a href="http://www.dnr.state.mn.us/mis/gis/tools/arcview/extensions/extensions.html"> Minnesota DNR</a></b></p>
<p>DNR Default Project for ArcView 3.1 <b>[обязательное]</p>
</b>
<p>ArcView Tools Extension</p>
<b>
<p>от ESRI</p>
</b>
<p>Theme.GeneralizeFeatures - файл
genfeat.ave (C:\$AVHOME\AV_GIS30\ARCVIEW\Samples\scripts)</p>
<p>MakeRGBColorPalette - файл
rgb2avp.ave (C:\$AVHOME\AV_GIS30\ARCVIEW\Samples\scripts)</p>
<p><a href="http://arcscripts.esri.com/details.cfm?CFGRIDKEY=1188825228">Grid Generalization Tools</a></p>
</noindex>

		<table border="0">
		  <tr>
		    <td width="125">
				<noindex>

				<!-- SpyLOG f: 0211 -->
				<script language="javascript"><!--
				Mu="u070.68.spylog.com";Md=document;Mnv=navigator;Mp=1;
				Mn=(Mnv.appName.substring(0,2)=="Mi")?0:1;Mrn=Math.random();
				Mt=(new Date()).getTimezoneOffset();
				Mz="p="+Mp+"&rn="+Mrn+"&t="+Mt;
				My="";
				My+="<a href='http://"+Mu+"/cnt?cid=7068&f=3&p="+Mp+"&rn="+Mrn+"' target='_blank' rel='nofollow'>";
				My+="<img src='http://"+Mu+"/cnt?cid=7068&"+Mz+"&r="+escape(Md.referrer)+"&pg="+escape(window.location.href)+"' border=0 width=88 height=63 alt='SpyLOG'>";
				My+="</a>";Md.write(My);//--></script><noscript>
				<a href="http://u070.68.spylog.com/cnt?cid=7068&f=3&p=1" target="_blank" rel="nofollow">
				<img src="http://u070.68.spylog.com/cnt?cid=7068&p=1" alt='SpyLOG' border='0' width=88 height=63 >
				</a></noscript>
				<!-- SpyLOG -->

				</noindex>
				 </td><td>
				<div align="justify"><font size="1">     </font>
               </div></td><td>
				<noindex>

				<!-- Google Analytics code START -->
				<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
				<script type="text/javascript">_uacct = "UA-1066824-1";urchinTracker();</script>
				<!-- Google Analytics code END -->

				</noindex>
				
				<!-- Moscow's time -->
				<br><font size="0" color="#F1F1F1"> 06/10/20 - 03:42</font>
				<!-- end of Moscow's time -->

		  </td>
		  </tr>
		</table>



<p align="center"><!--webbot bot="Navigation" S-Type="arrows"
S-Orientation="horizontal" S-Rendering="text" B-Include-Home="TRUE"
B-Include-Up="TRUE" U-Page S-Target startspan --><nobr>[&nbsp;<a href="mapmaking12.htm">&lt;&lt;</a>&nbsp;]</nobr> <nobr>[&nbsp;<a href="../index.html">Начала&nbsp;Этногенеза</a>&nbsp;]</nobr> <nobr>[&nbsp;<a href="index.html">Оглавление</a>&nbsp;]</nobr> <nobr>[&nbsp;<a href="links.htm">&gt;&gt;</a>&nbsp;]</nobr><!--webbot bot="Navigation" endspan i-checksum="64552" -->
</p>
<p><a href="mapmaking21.htm#top"><img BORDER="0" SRC="../images/top.gif" ALT="Top" width="36" height="12"></a></p>

<!--msnavigation--></td><td valign="top" width="24"></td><td valign="top" width="1%">
<div align="justify">
  <table border="0" width="165" cellpadding="2">
    <tr>
      <td height="160"></td>
    </tr>
    <tr>
      <td>
	<noindex><p align="center">
	<!-- TBN Business 120x240 code START -->
	<script>
	// <!--
	var tbnb240_login = "gumilevica";
	var tbnb240_options = "";
	var tbnb240_random = Math.round(Math.random() * 100000);
	document.write('<iframe src="http://ad.600.tbn.ru/cgi-bin/iframe/'+tbnb240_login+'?'+tbnb240_random +'&'+tbnb240_options+'" width=120 height=240 marginwidth=0 marginheight=0 scrolling=no frameborder=0><a href="http://ad.600.tbn.ru/cgi-bin/href/'+tbnb240_login+'?'+tbnb240_random +'" target=_top rel="nofollow"><img src="http://ad.600.tbn.ru/cgi-bin/banner/'+tbnb240_login+'?'+tbnb240_random +'&'+tbnb240_options+'" alt="TBN Business 120x240" width=120 height=240 border=0 ismap></a></iframe>');
	// -->
	</script>
	<noscript>
	<iframe src="http://ad.600.tbn.ru/cgi-bin/iframe/gumilevica" width=120 height=240 marginwidth=0 marginheight=0 scrolling=no frameborder=0><a href="http://ad.600.tbn.ru/cgi-bin/href/gumilevica" target=_top rel="nofollow"><img src="http://ad.600.tbn.ru/cgi-bin/banner/gumilevica" alt="TBN Business 120x240" border=0 ismap></a></iframe>
	</noscript>
	<!-- TBN Business 120x240 code END -->
	</p>

	<!-- AdSense для контекста code START -->
	<script type="text/javascript"><!--
	google_ad_client = "pub-4143207442188417";
	google_ad_width = 160;
	google_ad_height = 600;
	google_ad_format = "160x600_as";
	google_ad_type = "text";
	//2006-11-29: 160x600 (СПРАВА)
	google_ad_channel = "5005592919";
	google_color_border = "FFFFFF";
	google_color_bg = "FFC080";
	google_color_link = "0000FF";
	google_color_text = "000000";
	google_color_url = "008000";
	//--></script>
	<script type="text/javascript"
	  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
	</script>
	<!-- AdSense для контекста code END -->

	<p align="center">
	<!-- TBN Business 120x240 code START -->
	<script>
	// <!--
	var tbnb240_login = "gumilevica";
	var tbnb240_options = "";
	var tbnb240_random = Math.round(Math.random() * 100000);
	document.write('<iframe src="http://ad.600.tbn.ru/cgi-bin/iframe/'+tbnb240_login+'?'+tbnb240_random +'&'+tbnb240_options+'" width=120 height=240 marginwidth=0 marginheight=0 scrolling=no frameborder=0><a href="http://ad.600.tbn.ru/cgi-bin/href/'+tbnb240_login+'?'+tbnb240_random +'" target=_top rel="nofollow"><img src="http://ad.600.tbn.ru/cgi-bin/banner/'+tbnb240_login+'?'+tbnb240_random +'&'+tbnb240_options+'" alt="TBN Business 120x240" width=120 height=240 border=0 ismap></a></iframe>');
	// -->
	</script>
	<noscript>
	<iframe src="http://ad.600.tbn.ru/cgi-bin/iframe/gumilevica" width=120 height=240 marginwidth=0 marginheight=0 scrolling=no frameborder=0><a href="http://ad.600.tbn.ru/cgi-bin/href/gumilevica" target=_top rel="nofollow"><img src="http://ad.600.tbn.ru/cgi-bin/banner/gumilevica" alt="TBN Business 120x240" border=0 ismap></a></iframe>
	</noscript>
	<!-- TBN Business 120x240 code END -->
	</p></noindex>
      </td>
    </tr>
  </table>
</div>

</td></tr><!--msnavigation--></table></body>
</html>